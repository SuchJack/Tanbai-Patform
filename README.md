# 坦白驿站 - 小程序

### 项目介绍

基于 SpringBoot 2.7.x + uni-app + Vue3 + Element Plus 实现的一款坦白类型的微信小程序



### 在线体验

![img](https://cdn.nlark.com/yuque/0/2025/png/34825149/1740658824471-71a5b0b4-fc28-418e-8ef8-6e68ab10e7eb.png)



### 模块介绍

前端：Tanbai-frontend

后端：TanBai-backend

第三方：COS 对象存储、微信支付、微信安全内容API



### 功能介绍

1. 用户创建问题、分享问题
2. 用户留言、回复
3. 用户支付查看回复权限、头像权限
4. 分享问题海报制作
5. 小程序订阅消息（用户留言、回复时触发）



### 项目部署

1. 执行SQL文件

2. 将application-local.yml.temp改名为application-local.yml放到后端项目resources中，并将"xxxx"配置好（微信支付不配置不影响执行）

3. 然后配置好相关信息即可启动

注：微信支付使用的是平台证书，暂时还没切换到平台公钥模式


#### **// TODO LIST**

1. 优化海报制作响应，从秒级提高至毫秒级，新增自定义海报（参考腾讯活码的节日海报）
2. 支付功能在电脑端小程序存在BUG：无法触发订单的状态检测API，无法修改问题状态为`is_paid`

- 优化：订单表添加业务冗余字段，设置定时任务以识别系统处理失败的订单
- 修复：查找电脑端支付后二维码状态、回调等API，从根源上修复BUG

3. 数据库字段优化，改为驼峰命名，设置逻辑删除以追溯用户不良信息
4. 增强活动营销，新增管理员群发订阅消息
5. 修复冷启动时进入问题详情页加载失败（可能与鉴权session策略有关），做异常兜底
6. 海报制作更换头像处，暂时取消校验昵称，后续继续实现；bug：修改完头像后返回，在我的问题页点击进入detail页是，`https://xxxxx/questions/my/undefined`出现空值
7. 实现转发朋友圈、转发好友功能（带标题、图片）
8. 优化底部 Tab 样式，"我的问题"、"我参与的"、"常见问题"按钮的 icon 图标



> 第一次做小程序，第一次用 uni-app 框架，还有很多提升空间，该项目算是练手了。
>
> 对于小程序的用户鉴权还需要加深理解。

求个star！



















